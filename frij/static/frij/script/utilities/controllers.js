// Generated by CoffeeScript 1.8.0
(function() {
  var frijControllers;

  frijControllers = angular.module('frij.controllers', []);

  frijControllers.controller('utilityListController', [
    '$scope', '$state', '$stateParams', 'UtilityChargePeriod', function($scope, $state, $stateParams, utilityAmounts) {
      var changeState;
      $scope.utilAmounts = utilityAmounts.data();
      $scope.balance = function() {
        var total, util, _i, _len, _ref;
        total = 0;
        _ref = $scope.utilAmounts;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          util = _ref[_i];
          if (!isNaN(util.amount)) {
            total += parseFloat(util.amount);
          }
        }
        return total;
      };
      $scope.save = function() {
        return utilityAmounts.update();
      };
      changeState = function(date) {
        return $state.go('utilityList', {
          year: date.getFullYear(),
          month: date.getMonth() + 1
        });
      };
      $scope.next = function() {
        return changeState(utilityAmounts.nextDatePeriod());
      };
      $scope.prev = function() {
        return changeState(utilityAmounts.prevDatePeriod());
      };
      $scope.monthName = function() {
        var months;
        months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        return months[parseInt($stateParams.month) - 1];
      };
      $scope.showNext = function() {
        return utilityAmounts.hasNext();
      };
      return $scope.showPrev = function() {
        return utilityAmounts.hasPrev();
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=controllers.js.map
